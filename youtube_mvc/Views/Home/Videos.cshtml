@model List<Google.Apis.YouTube.v3.Data.PlaylistItem>
@{
    ViewBag.Title = "Videos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Videos</h2>
@foreach (var item in Model)
{
    <div id="video_@item.Id">
        <h3><a href="https://www.youtube.com/watch?v=@item.ContentDetails.VideoId" target="_blank">@item.Snippet.Title</a> <button onclick="removePlaylistVideo('@item.Id')">Remove Video</button></h3>
        
        <div id="videoNote_@item.Id">
            @if(!String.IsNullOrEmpty(@item.ContentDetails.Note))
            {
                <h4 >User Notes: <span id ="noteContent_@item.Id">@item.ContentDetails.Note</span></h4>
            }
            else
            {
                <h4 id="noteContent_@item.Id"></h4>
            }
            <button onclick="getVideoComments('@item.ContentDetails.VideoId')">Get Video Comments</button>
            <button onclick="editVideoNote('@item.Id')">Add/Edit Note</button>
            
        </div>
        <div id="videoNoteEdit_@item.Id"  style="display:none">
            <input id="editNote_@item.Id" value="@item.ContentDetails.Note" type="text" />
            <button onclick="saveVideoNote('@item.Id','@item.Snippet.PlaylistId')">Save</button>
            <button onclick="cancelVideoNote('@item.Id')">Cancel</button>
        </div>
    </div>
}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="~/Scripts/auth.js"></script>
<script src="~/Scripts/playlist_upload.js"></script>
<script src="https://apis.google.com/js/client.js?onload=googleApiClientReady"></script>
